# Web - Exploit Mag - Facile variable

## Enonce 

Alors que la compétition bat son plein, votre entraîneur vient à votre rencontre :

> Hey ! Je ne sais pas si tu as vu, mais il parait qu'un magazine en ligne a publié des trucs "intéressants" sur la compétition. C'est un ami à moi qui m'a envoyé le lien.

En allant jeter un œil, rien ne semble différencier ce magazine d'un autre site sportif aux titres racoleurs... Mais l'un des articles attire votre attention. Ce serait bien de pouvoir y accéder, au moins pour savoir ce qu'ont appris les athlètes qui l'ont lu. Mais pas question de payer, il doit bien exister un autre moyen...

Auteur : Artamis

### Fichiers fournis :

- https://exploit-mag.challenges.404ctf.fr : Le site web a exploité

## Solution

On doit trouver un moyen de lire l'article.\
Après une analyse rapide du site :
- Il n'y pas moyen de s'enregistrer
- Il n'y a pas de page d'admin
- La partie "Tarifs" du site renvoie vers la page principale
- En jouant avec le CSS du site on peux retrouver l'article mais ça reste un "Lorem Ipsum"

Bref il n'y a pas de points d'entrées "trivial". En revanche il y'a un fichier "robots.txt" à la racine du site qui indique ce qui est consultable pour les robots des moteurs de recherche : 

> User-agent: Googlebot-news
> Disallow:
> 
> User-agent: *
> Disallow: /news/

On voit que mis à part le googlebot tous les user-agent sont interdits de crawler sur la partie "*news*". En modifiant (via Burp) le user-agent utilisé lors du surf, on va se faire passer pour le Googlebot :

> User-Agent: Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)

En consultant de nouveau la page, le paywall est enlevé, et le flag est bien présent.

**Flag** : 404CTF{p4yw4lL_bYpa55_1s_dAnG3r0us}
